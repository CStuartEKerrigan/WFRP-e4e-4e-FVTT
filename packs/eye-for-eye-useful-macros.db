{"name":"Open All Doors","permission":{"default":0,"Cq31UaFnLVMpY5dr":3},"type":"script","flags":{"furnace":{"runAsGM":false}},"scope":"global","command":"let chatMsg = '';\r\n\r\nlet walls = canvas.scene.data.walls.map(w => {\r\n   w = duplicate(w);\r\n   w.ds = 1;\r\n   return w;\r\n });\r\n canvas.scene.update({walls: walls});\r\n\r\nchatMsg = `Doors all opened.`;\r\nlet chatData = {\r\n        user: game.user._id,\r\n        speaker: ChatMessage.getSpeaker(),\r\n        content: chatMsg\r\n    };\r\n    ChatMessage.create(chatData, {});","author":"Cq31UaFnLVMpY5dr","img":"icons/svg/door-exit.svg","actorIds":[],"_id":"7Z4DrWrqixP3e1wx"}
{"name":"Close All Doors","permission":{"default":0,"Cq31UaFnLVMpY5dr":3},"type":"script","flags":{"furnace":{"runAsGM":false}},"scope":"global","command":"let chatMsg = '';\r\n\r\nlet walls = canvas.scene.data.walls.map(w => {\r\n   w = duplicate(w);\r\n   w.ds = 0;\r\n   return w;\r\n });\r\n canvas.scene.update({walls: walls});\r\n\r\nchatMsg = `Doors all closed.`;\r\nlet chatData = {\r\n        user: game.user._id,\r\n        speaker: ChatMessage.getSpeaker(),\r\n        content: chatMsg\r\n    };\r\n    ChatMessage.create(chatData, {});","author":"Cq31UaFnLVMpY5dr","img":"icons/svg/door-closed.svg","actorIds":[],"_id":"R0dQwyXCXCYF27pI"}
{"name":"Roll Weapon Trait","permission":{"default":0,"Cq31UaFnLVMpY5dr":3},"type":"script","flags":{"furnace":{"runAsGM":false}},"scope":"global","command":"WFRP_Utility.rollItemMacro(\"Weapon\", \"trait\");","author":"Cq31UaFnLVMpY5dr","img":"icons/svg/combat.svg","actorIds":[],"_id":"Op9HbZtxuHtAut8T"}
{"name":"Switch Images","permission":{"default":0,"Cq31UaFnLVMpY5dr":3},"type":"script","flags":{},"scope":"global","command":"// Allows swapping between two different .png images.\r\n// Token sides should have \"a\" and \"b\" at the end of the name like \"name-a.png\" and \"name-b.png\".\r\n// If you have a different ending, change aName and bName respectively.\r\n// Author: Phenomen\r\n\r\n// IMPORTANT. These two values MUST be the same length.\r\nlet aName = 'a.png'\r\nlet bName = 'b.png'\r\n\r\nlet tok = canvas.tokens.controlled[0];\r\nlet img = tok.data.img;\r\nvar currentSide = img[img.length - aName.length];\r\nimg = img.slice(0,-Math.abs(aName.length)) + (currentSide == 'a' ? bName: aName);\r\ntok.update({ img });","author":"Cq31UaFnLVMpY5dr","img":"icons/svg/eye.svg","actorIds":[],"_id":"DgIfEEQhOYEel7ji"}
